<!DOCTYPE html><html lang="en"><head><title>src/includes</title></head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"><meta name="groc-relative-root" content="../"><meta name="groc-document-path" content="src/includes"><meta name="groc-project-path" content="src/includes.js"><link rel="stylesheet" type="text/css" media="all" href="../assets/style.css"><script type="text/javascript" src="../assets/behavior.js"></script><body><div id="meta"><div class="file-path">src/includes.js</div></div><div id="document"><div class="segment"><div class="comments "><div class="wrapper"><p>Copyright 2015-2021 JC Fisher</p></div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>from <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes?v=example">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes?v=example</a></p></div></div><div class="code"><div class="wrapper"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">includes</span>(<span class="hljs-params">searchElement, searchList, fromIndex</span>) </span>{</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol>
<li>Let O be ? ToObject(this value).</li>
</ol></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">if</span> (searchList == <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'"searchList" is null or not defined'</span>);
  }

  <span class="hljs-keyword">var</span> o = <span class="hljs-built_in">Object</span>(searchList);</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol start="2">
<li>Let len be ? ToLength(? Get(O, &quot;length&quot;)).</li>
</ol></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">var</span> len = o.length &gt;&gt;&gt; <span class="hljs-number">0</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol start="3">
<li>If len is 0, return false.</li>
</ol></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">if</span> (len === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol start="4">
<li>Let n be ? ToInteger(fromIndex).
(If fromIndex is undefined, this step produces the value 0.)</li>
</ol></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">var</span> n = fromIndex | <span class="hljs-number">0</span>;</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol start="5">
<li>If n â‰¥ 0, then
a. Let k be n.</li>
<li>Else n &lt; 0,
a. Let k be len + n.
b. If k &lt; 0, let k be 0.</li>
</ol></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">var</span> k = <span class="hljs-built_in">Math</span>.max(n &gt;= <span class="hljs-number">0</span> ? n : len - <span class="hljs-built_in">Math</span>.abs(n), <span class="hljs-number">0</span>);

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sameValueZero</span>(<span class="hljs-params">x, y</span>) </span>{
    <span class="hljs-keyword">return</span> (
      x === y ||
      (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">"number"</span> &amp;&amp; <span class="hljs-keyword">typeof</span> y === <span class="hljs-string">"number"</span> &amp;&amp; <span class="hljs-built_in">isNaN</span>(x) &amp;&amp; <span class="hljs-built_in">isNaN</span>(y))
    );
  }</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol start="7">
<li>Repeat, while k &lt; len</li>
</ol></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">while</span> (k &lt; len) {</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><p>a. Let elementK be the result of ? Get(O, ! ToString(k)).
b. If SameValueZero(searchElement, elementK) is true, return true.
c. Increase k by 1.</p></div></div><div class="code"><div class="wrapper">    <span class="hljs-keyword">if</span> (sameValueZero(o[k], searchElement)) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
    k++;
  }</div></div></div><div class="segment"><div class="comments "><div class="wrapper"><ol start="8">
<li>Return false</li>
</ol></div></div><div class="code"><div class="wrapper">  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}</div></div></div></div></body></html>